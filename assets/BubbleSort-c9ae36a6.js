var k=Object.defineProperty;var S=(t,s,e)=>s in t?k(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var o=(t,s,e)=>(S(t,typeof s!="symbol"?s+"":s,e),e);import{P as b,V as d,a as l}from"./painter-e02e082b.js";import{s as _}from"./shuffle-dbe9666a.js";import{s as P}from"./sleep-9eff569f.js";import{d as y,_ as w,o as c,f,j as n,i as r,w as m,t as p,k as C,l as v,v as g}from"./index-c9176d23.js";/* empty css              */class V{constructor(s){o(this,"painter");o(this,"width");o(this,"height");o(this,"values");o(this,"n");o(this,"i");o(this,"j");o(this,"stepsPer10ms");o(this,"compsCounter");o(this,"stepsCounter");o(this,"finished");o(this,"curPid");this.painter=new b(s),this.width=s.width,this.height=s.height,this.values=[],this.n=100,this.i=0,this.j=0,this.stepsPer10ms=1,this.compsCounter=0,this.stepsCounter=0,this.finished=!1,this.curPid=0}setup(s){s&&(this.n=s.n,this.stepsPer10ms=Math.round(s.stepsPerSecond/100)),this.finished=!1,this.i=0,this.j=0,this.compsCounter=0,this.stepsCounter=0,this.values=[];for(let e=1;e<=this.n;++e)this.values.push(e);_(this.values),this.curPid++,this.bubbleSort(this.curPid)}async bubbleSort(s){for(let e=0;e<this.n-1;++e)for(let h=0;h<this.n-e-1;++h){if(s!=this.curPid)return;if(this.compsCounter++,this.values[h]>this.values[h+1]){const u=this.values[h];this.values[h]=this.values[h+1],this.values[h+1]=u}this.i=e,this.j=h,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await P(10))}this.finished=!0,this.renderValues()}renderValues(){this.painter.background("#282a36");const s=this.width/this.n,e=this.height;let h=this.values[0];for(let i=1;i<this.n;++i)this.values[i]>h&&(h=this.values[i]);const u=e/h;for(let i=0;i<this.n;++i){this.painter.setStrokeWeight(s+1),this.painter.stroke("#f8f8f2"),i==this.n-this.i?this.painter.stroke("#8be9fd"):i==this.j+1&&this.painter.stroke("#ffb86c"),(i==this.n-this.i||i==this.j+1)&&!this.finished&&this.painter.setStrokeWeight(Math.max(s+1,7)),this.finished&&this.painter.stroke("#50fa7b");const a=u*this.values[i];this.painter.line(i*s+s/2,this.height-a,i*s+s/2,this.height)}}}const B=y({name:"BubbleSort",data:()=>({canvasWidth:2e3,canvasHeight:1125,sketch:{},n:100,stepsPerSecond:100}),mounted(){const t=document.getElementById("sketch");t&&b.isCanvas(t)&&(this.sketch=new V(t),this.sketch.setup())}});const j={class:"sort-page"},N=n("h1",{style:{"margin-top":"20px"}},[n("a",{href:"https://en.wikipedia.org/wiki/Bubble_sort"},"Bubble Sort")],-1),W=n("h3",null,"Time complexity O(nÂ²)",-1),$=n("h3",{style:{"margin-bottom":"20px"}},"Space complexity O(1)",-1),x={class:"stats"},H={key:0},T=["width","height"],M={class:"controls"},z={style:{"font-size":"large"}},D=n("div",{style:{height:"20px"}},null,-1),E={style:{"font-size":"large"}};function O(t,s,e,h,u,i){return c(),f("div",j,[N,W,$,n("div",x,[r(d,null,{default:m(()=>[n("span",null,p(t.sketch.compsCounter)+" comparisons",1),r(l),t.sketch.values?(c(),f("span",H,"N: "+p(t.sketch.values.length),1)):C("",!0),r(l),n("span",null,"Steps per second: "+p(t.stepsPerSecond),1)]),_:1})]),n("canvas",{id:"sketch",width:t.canvasWidth,height:t.canvasHeight},null,8,T),n("div",M,[r(d,null,{default:m(()=>[n("button",{onClick:s[0]||(s[0]=a=>t.sketch.setup({n:t.n,stepsPerSecond:t.stepsPerSecond}))}," START "),r(l),n("span",z,"N: "+p(t.n),1),r(l),v(n("input",{style:{width:"min(100%, 800px)"},"onUpdate:modelValue":s[1]||(s[1]=a=>t.n=a),type:"range",min:"10",max:"2000",step:"10"},null,512),[[g,t.n]]),D,n("span",E,"Steps per second: "+p(t.stepsPerSecond),1),r(l),v(n("input",{style:{width:"min(100%, 800px)"},"onUpdate:modelValue":s[2]||(s[2]=a=>t.stepsPerSecond=a),type:"range",min:"100",max:"1000000",step:"100"},null,512),[[g,t.stepsPerSecond]])]),_:1})])])}const G=w(B,[["render",O]]);export{G as default};
