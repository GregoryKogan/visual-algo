var _=Object.defineProperty;var k=(s,t,i)=>t in s?_(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i;var r=(s,t,i)=>(k(s,typeof t!="symbol"?t+"":t,i),i);import{P as m,V as l,a as p}from"./painter-e02e082b.js";import{s as f}from"./sleep-9eff569f.js";import{d as y,_ as w,o as E,f as v,j as n,i as c,w as u,t as g,l as V,v as x}from"./index-c9176d23.js";/* empty css              */function S(s,t,i){const e=[];for(let d=0;d<s;++d){const o=Math.random()*(t-40)+20,a=Math.random()*(i-2*20)+20;e.push({x:o,y:a})}return e}function P(s,t){const i=[];for(let e=0;e<s;++e)i.push([]);for(let e=0;e<s;++e){const h=[];for(let o=0;o<s;++o)if(e!=o){const a=Math.sqrt(Math.pow(t[e].x-t[o].x,2)+Math.pow(t[e].y-t[o].y,2));h.push({dist:a,ind:o})}h.sort((o,a)=>o.dist-a.dist);const d=Math.floor(Math.random()*5+2);for(let o=0;o<d;++o){const a=h[o].ind;e!=a&&!i[e].includes(a)&&(i[e].push(a),i[a].push(e))}}return i}class C{constructor(t){r(this,"painter");r(this,"width");r(this,"height");r(this,"curPid");r(this,"n");r(this,"graph");r(this,"positions");r(this,"visited");r(this,"coloredEdges");r(this,"currentV");r(this,"visitedCounter");this.painter=new m(t),this.width=t.width,this.height=t.height,this.curPid=0,this.n=0,this.graph=[],this.positions=[],this.visited=[],this.coloredEdges=[],this.currentV=0,this.visitedCounter=0}setup(t){t&&(this.n=t.n),this.positions=S(this.n,this.width,this.height),this.graph=P(this.n,this.positions),this.visited=[];for(let i=0;i<this.n;++i)this.visited.push(!1);this.coloredEdges=[],this.currentV=0,this.visitedCounter=0,this.curPid++,this.dfs(this.curPid,0)}async dfs(t,i,e=-1){if(t==this.curPid&&(this.visited[i]=!0,this.visitedCounter++,this.currentV=i,this.renderGraph(),await f(Math.floor(2e4/this.n)),t==this.curPid)){for(let h=0;h<this.graph[i].length;++h){if(t!=this.curPid)return;this.visited[this.graph[i][h]]||(this.coloredEdges.push({from:i,to:this.graph[i][h],color:1}),await this.dfs(t,this.graph[i][h],i))}if(t==this.curPid){if(e!=-1){const h=this.coloredEdges.indexOf({from:e,to:i,color:1});h!=-1&&this.coloredEdges.splice(h,1),this.coloredEdges.push({from:e,to:i,color:2})}this.currentV=e,this.renderGraph(),await f(Math.floor(2e4/this.n))}}}renderGraph(){this.painter.background("#282a36"),this.renderEdges(),this.renderVertecies()}renderVertecies(){for(let t=0;t<this.n;++t)this.painter.noStroke(),this.painter.fill("#f8f8f2"),t==0?this.painter.fill("#ff5555"):this.visited[t]&&this.painter.fill("#50fa7b"),t==this.currentV&&this.painter.fill("#ff79c6"),this.painter.circle(this.positions[t].x,this.positions[t].y,10),t==this.currentV&&(this.painter.noFill(),this.painter.stroke("#ff79c6"),this.painter.setStrokeWeight(2),this.painter.circle(this.positions[t].x,this.positions[t].y,20))}renderEdges(){for(let t=0;t<this.n;++t)for(let i=0;i<this.graph[t].length;++i)t<this.graph[t][i]&&(this.painter.stroke("#f8f8f2"),this.painter.setStrokeWeight(3),this.painter.line(this.positions[t].x,this.positions[t].y,this.positions[this.graph[t][i]].x,this.positions[this.graph[t][i]].y));this.renderUsedEdges()}renderUsedEdges(){for(let t=0;t<this.coloredEdges.length;++t){const{from:i,to:e}=this.coloredEdges[t];this.coloredEdges[t].color==1?this.painter.stroke("#ffb86c"):this.coloredEdges[t].color==2&&this.painter.stroke("#8be9fd"),this.painter.setStrokeWeight(4),this.painter.line(this.positions[i].x,this.positions[i].y,this.positions[e].x,this.positions[e].y)}}}const M=y({name:"DFS",data:()=>({canvasWidth:2e3,canvasHeight:1125,sketch:{},n:100}),mounted(){const s=document.getElementById("sketch");s&&m.isCanvas(s)&&(this.sketch=new C(s),this.sketch.setup({n:this.n}))}});const D={class:"sort-page"},b=n("h1",{style:{"margin-top":"20px"}},[n("a",{href:"https://en.wikipedia.org/wiki/Depth-first_search"},"Depth First Search")],-1),F=n("h3",null,"Time complexity O(|V| + |E|)",-1),G=n("h3",{style:{"margin-bottom":"20px"}},"Space complexity O(|V|)",-1),W={class:"stats"},$=["width","height"],j={class:"controls"},B={style:{"font-size":"large"}};function T(s,t,i,e,h,d){return E(),v("div",D,[b,F,G,n("div",W,[c(l,null,{default:u(()=>[n("span",null,g(s.sketch.visitedCounter)+" visited",1)]),_:1})]),n("canvas",{id:"sketch",width:s.canvasWidth,height:s.canvasHeight},null,8,$),n("div",j,[c(l,null,{default:u(()=>[n("button",{onClick:t[0]||(t[0]=o=>s.sketch.setup({n:s.n}))},"START"),c(p),n("span",B,"N: "+g(s.n),1),c(p),V(n("input",{style:{width:"min(100%, 800px)"},"onUpdate:modelValue":t[1]||(t[1]=o=>s.n=o),type:"range",min:"10",max:"500",step:"1"},null,512),[[x,s.n]])]),_:1})])])}const I=w(M,[["render",T]]);export{I as default};
