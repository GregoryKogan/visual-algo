var _=Object.defineProperty;var w=(t,s,e)=>s in t?_(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var n=(t,s,e)=>(w(t,typeof s!="symbol"?s+"":s,e),e);import{P as S,V as d,a as c,b as f}from"./VSlider-c608493c.js";import{s as C}from"./shuffle-dbe9666a.js";import{s as m}from"./sleep-9eff569f.js";import{d as V,_ as y,o as k,f as v,j as o,i as a,w as g,t as p,k as b}from"./index-291fb8bf.js";/* empty css              */class Q{constructor(s){n(this,"painter");n(this,"width");n(this,"height");n(this,"values");n(this,"n");n(this,"low");n(this,"high");n(this,"stepsPer10ms");n(this,"compsCounter");n(this,"stepsCounter");n(this,"finished");n(this,"curPid");this.painter=new S(s),this.width=s.width,this.height=s.height,this.values=[],this.n=100,this.low=0,this.high=0,this.stepsPer10ms=1,this.compsCounter=0,this.stepsCounter=0,this.finished=!1,this.curPid=0}setup(s){s&&(this.n=s.n,this.stepsPer10ms=Math.round(s.stepsPerSecond/100)),this.finished=!1,this.low=0,this.high=0,this.compsCounter=0,this.stepsCounter=0,this.values=[];for(let e=1;e<=this.n;++e)this.values.push(e);C(this.values),this.curPid++,this.quickSort(this.curPid,0,this.n-1,!0)}async quickSort(s,e,h,i=!1){if(s==this.curPid){if(this.low=e,this.high=h,e<h){this.compsCounter++,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await m(10));const r=await this.partition(s,e,h);await this.quickSort(s,e,r-1,!1),await this.quickSort(s,r+1,h,!1)}i&&s==this.curPid&&(this.finished=!0,this.renderValues())}}async partition(s,e,h){if(s!=this.curPid)return-1;const i=this.values[h];let r=e-1;for(let u=e;u<=h-1;u++){if(s!=this.curPid)return-1;if(this.compsCounter++,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await m(10)),this.values[u]<i){r++;const P=this.values[r];this.values[r]=this.values[u],this.values[u]=P}}const l=this.values[r+1];return this.values[r+1]=this.values[h],this.values[h]=l,r+1}renderValues(){this.painter.background("#282a36");const s=this.width/this.n,h=this.height/this.n;for(let i=0;i<this.n;++i){this.painter.setStrokeWeight(s+1),this.painter.stroke("#f8f8f2"),i==this.low?this.painter.stroke("#ff79c6"):i==this.high&&this.painter.stroke("#ff79c6"),(i==this.low||i==this.high)&&!this.finished&&this.painter.setStrokeWeight(Math.max(s+1,7)),this.finished&&this.painter.stroke("#50fa7b");const r=h*this.values[i];this.painter.line(i*s+s/2,this.height-r,i*s+s/2,this.height)}}}const B=V({name:"QuickSort",data:()=>({canvasWidth:2e3,canvasHeight:1125,sketch:{},n:100,stepsPerSecond:100}),mounted(){const t=document.getElementById("sketch");t&&S.isCanvas(t)&&(this.sketch=new Q(t),this.sketch.setup())}});const H={class:"sort-page"},N=o("h1",{style:{"margin-top":"20px"}},[o("a",{href:"https://en.wikipedia.org/wiki/Quicksort"},"Quick Sort")],-1),W=o("h3",null,"Time complexity",-1),$=o("h3",null,"O(nÂ²) - worst case",-1),q=o("h3",null,"O(n log n) - average",-1),O=o("h3",{style:{"margin-bottom":"20px"}},"Space complexity O(1)",-1),T={class:"stats"},j={key:0},z=["width","height"],E={class:"controls"},M={style:{"font-size":"large"}},U={style:{"font-size":"large"}};function A(t,s,e,h,i,r){return k(),v("div",H,[N,W,$,q,O,o("div",T,[a(d,null,{default:g(()=>[o("span",null,p(t.sketch.compsCounter)+" comparisons",1),a(c),t.sketch.values?(k(),v("span",j,"N: "+p(t.sketch.values.length),1)):b("",!0),a(c),o("span",null,"Steps per second: "+p(t.stepsPerSecond),1)]),_:1})]),o("canvas",{id:"sketch",width:t.canvasWidth,height:t.canvasHeight},null,8,z),o("div",E,[a(d,null,{default:g(()=>[o("button",{onClick:s[0]||(s[0]=l=>t.sketch.setup({n:t.n,stepsPerSecond:t.stepsPerSecond}))}," START "),a(c),o("span",M,"N: "+p(t.n),1),a(c),a(f,{modelValue:t.n,"onUpdate:modelValue":s[1]||(s[1]=l=>t.n=l),min:"10",max:"2000",step:"10",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"]),o("span",U,"Steps per second: "+p(t.stepsPerSecond),1),a(c),a(f,{modelValue:t.stepsPerSecond,"onUpdate:modelValue":s[2]||(s[2]=l=>t.stepsPerSecond=l),min:"100",max:"10000",step:"100",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"])]),_:1})])])}const J=y(B,[["render",A]]);export{J as default};
