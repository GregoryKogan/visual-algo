var w=Object.defineProperty;var P=(e,s,i)=>s in e?w(e,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[s]=i;var o=(e,s,i)=>(P(e,typeof s!="symbol"?s+"":s,i),i);import{P as C,S as _,V as f,a as c,b as m}from"./VSlider-535596be.js";import{s as y}from"./shuffle-dbe9666a.js";import{s as S}from"./sleep-9eff569f.js";import{d as V,_ as b,$ as B,R as g,a0 as k,a1 as r,b as l,U as v,W as d,a3 as j}from"./index-6f0bb6af.js";import"./VGrid-287f6910.js";class I{constructor(s){o(this,"painter");o(this,"width");o(this,"height");o(this,"values");o(this,"n");o(this,"i");o(this,"j");o(this,"low");o(this,"high");o(this,"loc");o(this,"stepsPer10ms");o(this,"compsCounter");o(this,"stepsCounter");o(this,"finished");o(this,"curPid");this.painter=new C(s),this.width=s.width,this.height=s.height,this.values=[],this.n=100,this.i=0,this.j=0,this.low=0,this.high=0,this.loc=0,this.stepsPer10ms=1,this.compsCounter=0,this.stepsCounter=0,this.finished=!1,this.curPid=0}setup(s){s&&(this.n=s.n,this.stepsPer10ms=Math.round(s.stepsPerSecond/100)),this.finished=!1,this.i=0,this.j=0,this.low=0,this.high=0,this.loc=0,this.compsCounter=0,this.stepsCounter=0,this.values=[];for(let i=1;i<=this.n;++i)this.values.push(i);y(this.values),this.curPid++,this.binaryInsertionSort(this.curPid)}async binaryInsertionSort(s){for(let i=0;i<this.n;++i){let h=i-1;const p=this.values[i];let t=-1,n=0,a=h;for(;n<=a;){if(s!=this.curPid)return;this.compsCounter+=2,this.i=i,this.j=h,this.low=n,this.high=a,this.loc=t,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await S(10));const u=n+Math.floor((a-n)/2);if(p==this.values[u]){t=u+1;break}else p>this.values[u]?n=u+1:a=u-1}for(t==-1&&(t=n);h>=t;){if(s!=this.curPid)return;this.compsCounter++,this.values[h+1]=this.values[h],h--,this.i=i,this.j=h,this.low=n,this.high=a,this.loc=t,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await S(10))}this.values[h+1]=p}this.finished=!0,this.renderValues()}renderValues(){this.painter.background("#282a36");const s=this.width/this.n,i=this.height;let h=this.values[0];for(let t=1;t<this.n;++t)this.values[t]>h&&(h=this.values[t]);const p=i/h;for(let t=0;t<this.n;++t){this.painter.setStrokeWeight(s+1),this.painter.stroke("#f8f8f2"),t==this.i?this.painter.stroke("#8be9fd"):t==this.j?this.painter.stroke("#ffb86c"):t==this.low?this.painter.stroke("#ff79c6"):t==this.high&&this.painter.stroke("#ff79c6"),t==this.loc&&this.painter.stroke("#ff5555"),(t==this.i||t==this.j||t==this.low||t==this.high||t==this.loc)&&!this.finished&&this.painter.setStrokeWeight(Math.max(s+1,7)),this.finished&&this.painter.stroke("#50fa7b");const n=p*this.values[t];this.painter.line(t*s+s/2,this.height-n,t*s+s/2,this.height)}}}const $=V({name:"SelectionSort",components:{SketchCanvas:_},data:()=>({sketch:{},n:100,stepsPerSecond:100}),mounted(){const e=document.getElementById("sketch");e&&C.isCanvas(e)&&(this.sketch=new I(e),this.sketch.setup())}});const N={class:"sort-page"},W=r("h1",{style:{"margin-top":"20px"}},[r("a",{href:"https://en.wikipedia.org/wiki/Insertion_sort"},"Binary Insertion Sort")],-1),M=r("h3",null,"Time complexity O(nÂ²)",-1),T=r("h3",{style:{"margin-bottom":"20px"}},"Space complexity O(1)",-1),U={class:"stats"},x={key:0},z={class:"controls"},E={style:{"font-size":"large"}},H={style:{"font-size":"large"}};function O(e,s,i,h,p,t){const n=B("SketchCanvas");return g(),k("div",N,[W,M,T,r("div",U,[l(f,null,{default:v(()=>[r("span",null,d(e.sketch.compsCounter)+" comparisons",1),l(c),e.sketch.values?(g(),k("span",x,"N: "+d(e.sketch.values.length),1)):j("",!0),l(c),r("span",null,"Steps per second: "+d(e.stepsPerSecond),1)]),_:1})]),l(n,{style:{width:"100%"}}),r("div",z,[l(f,null,{default:v(()=>[r("button",{onClick:s[0]||(s[0]=a=>e.sketch.setup({n:e.n,stepsPerSecond:e.stepsPerSecond}))}," START "),l(c),r("span",E,"N: "+d(e.n),1),l(c),l(m,{modelValue:e.n,"onUpdate:modelValue":s[1]||(s[1]=a=>e.n=a),min:"10",max:"2000",step:"10",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"]),r("span",H,"Steps per second: "+d(e.stepsPerSecond),1),l(c),l(m,{modelValue:e.stepsPerSecond,"onUpdate:modelValue":s[2]||(s[2]=a=>e.stepsPerSecond=a),min:"100",max:"1000000",step:"100",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"])]),_:1})])])}const J=b($,[["render",O]]);export{J as default};
