var _=Object.defineProperty;var k=(e,t,s)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var n=(e,t,s)=>(k(e,typeof t!="symbol"?t+"":t,s),s);import{P as m,S as y,V as c,a as p,b as V}from"./VSlider-535596be.js";import{s as f}from"./sleep-9eff569f.js";import{d as E,_ as S,$ as w,R as v,a0 as x,a1 as a,b as d,U as u,W as g}from"./index-6f0bb6af.js";import"./VGrid-287f6910.js";function C(e,t,s){const i=[];for(let l=0;l<e;++l){const o=Math.random()*(t-40)+20,h=Math.random()*(s-2*20)+20;i.push({x:o,y:h})}return i}function P(e,t){const s=[];for(let i=0;i<e;++i)s.push([]);for(let i=0;i<e;++i){const r=[];for(let o=0;o<e;++o)if(i!=o){const h=Math.sqrt(Math.pow(t[i].x-t[o].x,2)+Math.pow(t[i].y-t[o].y,2));r.push({dist:h,ind:o})}r.sort((o,h)=>o.dist-h.dist);const l=Math.floor(Math.random()*5+2);for(let o=0;o<l;++o){const h=r[o].ind;i!=h&&!s[i].includes(h)&&(s[i].push(h),s[h].push(i))}}return s}class b{constructor(t){n(this,"painter");n(this,"width");n(this,"height");n(this,"curPid");n(this,"n");n(this,"graph");n(this,"positions");n(this,"visited");n(this,"coloredEdges");n(this,"currentV");n(this,"visitedCounter");this.painter=new m(t),this.width=t.width,this.height=t.height,this.curPid=0,this.n=0,this.graph=[],this.positions=[],this.visited=[],this.coloredEdges=[],this.currentV=0,this.visitedCounter=0}setup(t){t&&(this.n=t.n),this.positions=C(this.n,this.width,this.height),this.graph=P(this.n,this.positions),this.visited=[];for(let s=0;s<this.n;++s)this.visited.push(!1);this.coloredEdges=[],this.currentV=0,this.visitedCounter=0,this.curPid++,this.dfs(this.curPid,0)}async dfs(t,s,i=-1){if(t==this.curPid&&(this.visited[s]=!0,this.visitedCounter++,this.currentV=s,this.renderGraph(),await f(Math.floor(2e4/this.n)),t==this.curPid)){for(let r=0;r<this.graph[s].length;++r){if(t!=this.curPid)return;this.visited[this.graph[s][r]]||(this.coloredEdges.push({from:s,to:this.graph[s][r],color:1}),await this.dfs(t,this.graph[s][r],s))}if(t==this.curPid){if(i!=-1){const r=this.coloredEdges.indexOf({from:i,to:s,color:1});r!=-1&&this.coloredEdges.splice(r,1),this.coloredEdges.push({from:i,to:s,color:2})}this.currentV=i,this.renderGraph(),await f(Math.floor(2e4/this.n))}}}renderGraph(){this.painter.background("#282a36"),this.renderEdges(),this.renderVertecies()}renderVertecies(){for(let t=0;t<this.n;++t)this.painter.noStroke(),this.painter.fill("#f8f8f2"),t==0?this.painter.fill("#ff5555"):this.visited[t]&&this.painter.fill("#50fa7b"),t==this.currentV&&this.painter.fill("#ff79c6"),this.painter.circle(this.positions[t].x,this.positions[t].y,10),t==this.currentV&&(this.painter.noFill(),this.painter.stroke("#ff79c6"),this.painter.setStrokeWeight(2),this.painter.circle(this.positions[t].x,this.positions[t].y,20))}renderEdges(){for(let t=0;t<this.n;++t)for(let s=0;s<this.graph[t].length;++s)t<this.graph[t][s]&&(this.painter.stroke("#f8f8f2"),this.painter.setStrokeWeight(3),this.painter.line(this.positions[t].x,this.positions[t].y,this.positions[this.graph[t][s]].x,this.positions[this.graph[t][s]].y));this.renderUsedEdges()}renderUsedEdges(){for(let t=0;t<this.coloredEdges.length;++t){const{from:s,to:i}=this.coloredEdges[t];this.coloredEdges[t].color==1?this.painter.stroke("#ffb86c"):this.coloredEdges[t].color==2&&this.painter.stroke("#8be9fd"),this.painter.setStrokeWeight(4),this.painter.line(this.positions[s].x,this.positions[s].y,this.positions[i].x,this.positions[i].y)}}}const M=E({name:"DFS",components:{SketchCanvas:y},data:()=>({sketch:{},n:100}),mounted(){const e=document.getElementById("sketch");e&&m.isCanvas(e)&&(this.sketch=new b(e),this.sketch.setup({n:this.n}))}});const D={class:"sort-page"},F=a("h1",{style:{"margin-top":"20px"}},[a("a",{href:"https://en.wikipedia.org/wiki/Depth-first_search"},"Depth First Search")],-1),$=a("h3",null,"Time complexity O(|V| + |E|)",-1),G=a("h3",{style:{"margin-bottom":"20px"}},"Space complexity O(|V|)",-1),B={class:"stats"},R={class:"controls"},U={style:{"font-size":"large"}};function W(e,t,s,i,r,l){const o=w("SketchCanvas");return v(),x("div",D,[F,$,G,a("div",B,[d(c,null,{default:u(()=>[a("span",null,g(e.sketch.visitedCounter)+" visited",1)]),_:1})]),d(o,{style:{width:"100%"}}),a("div",R,[d(c,null,{default:u(()=>[a("button",{onClick:t[0]||(t[0]=h=>e.sketch.setup({n:e.n}))},"START"),d(p),a("span",U,"N: "+g(e.n),1),d(p),d(V,{modelValue:e.n,"onUpdate:modelValue":t[1]||(t[1]=h=>e.n=h),min:"10",max:"500",step:"1",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"])]),_:1})])])}const q=S(M,[["render",W]]);export{q as default};
