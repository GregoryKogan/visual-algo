var C=Object.defineProperty;var _=(t,s,e)=>s in t?C(t,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[s]=e;var o=(t,s,e)=>(_(t,typeof s!="symbol"?s+"":s,e),e);import{P as k,S as P,V as d,a as l,b as c}from"./VSlider-535596be.js";import{s as V}from"./shuffle-dbe9666a.js";import{s as f}from"./sleep-9eff569f.js";import{d as w,_ as y,$ as b,R as m,a0 as S,a1 as n,b as r,U as g,W as p,a3 as j}from"./index-6f0bb6af.js";import"./VGrid-287f6910.js";class ${constructor(s){o(this,"painter");o(this,"width");o(this,"height");o(this,"values");o(this,"n");o(this,"i");o(this,"j");o(this,"stepsPer10ms");o(this,"compsCounter");o(this,"stepsCounter");o(this,"finished");o(this,"curPid");this.painter=new k(s),this.width=s.width,this.height=s.height,this.values=[],this.n=100,this.i=0,this.j=0,this.stepsPer10ms=1,this.compsCounter=0,this.stepsCounter=0,this.finished=!1,this.curPid=0}setup(s){s&&(this.n=s.n,this.stepsPer10ms=Math.round(s.stepsPerSecond/100)),this.i=0,this.j=0,this.finished=!1,this.compsCounter=0,this.stepsCounter=0,this.values=[];for(let e=1;e<=this.n;++e)this.values.push(e);V(this.values),this.curPid++,this.shellSort(this.curPid)}async shellSort(s){if(s==this.curPid){for(let e=Math.floor(this.n/2);e>0;e=Math.floor(e/2))for(let a=e;a<this.n;a+=1){if(s!=this.curPid)return;this.compsCounter++,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await f(10)),this.i=a;const i=this.values[a];let h;for(h=a;h>=e&&this.values[h-e]>i;h-=e){if(this.values[h]=this.values[h-e],this.j=h,s!=this.curPid)return;this.compsCounter++,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await f(10))}this.values[h]=i}this.finished=!0,this.renderValues()}}renderValues(){this.painter.background("#282a36");const s=this.width/this.n,a=this.height/this.n;for(let i=0;i<this.n;++i){this.painter.setStrokeWeight(s+1),this.painter.stroke("#f8f8f2"),i==this.i?this.painter.stroke("#8be9fd"):i==this.j&&this.painter.stroke("#ffb86c"),(i==this.i||i==this.j)&&!this.finished&&this.painter.setStrokeWeight(Math.max(s+1,7)),this.finished&&this.painter.stroke("#50fa7b");const h=a*this.values[i];this.painter.line(i*s+s/2,this.height-h,i*s+s/2,this.height)}}}const B=w({name:"ShellSort",components:{SketchCanvas:P},data:()=>({sketch:{},n:100,stepsPerSecond:100}),mounted(){const t=document.getElementById("sketch");t&&k.isCanvas(t)&&(this.sketch=new $(t),this.sketch.setup())}});const N={class:"sort-page"},M=n("h1",{style:{"margin-top":"20px"}},[n("a",{href:"https://en.wikipedia.org/wiki/Shellsort"},"Shell Sort")],-1),W=n("h3",null,"Time complexity",-1),H=n("h3",null,"O(nÂ²) - worst case",-1),O=n("h3",null,"O(n log n) - average",-1),T=n("h3",{style:{"margin-bottom":"20px"}},"Space complexity O(1)",-1),U={class:"stats"},x={key:0},z={class:"controls"},E={style:{"font-size":"large"}},R={style:{"font-size":"large"}};function A(t,s,e,a,i,h){const v=b("SketchCanvas");return m(),S("div",N,[M,W,H,O,T,n("div",U,[r(d,null,{default:g(()=>[n("span",null,p(t.sketch.compsCounter)+" comparisons",1),r(l),t.sketch.values?(m(),S("span",x,"N: "+p(t.sketch.values.length),1)):j("",!0),r(l),n("span",null,"Steps per second: "+p(t.stepsPerSecond),1)]),_:1})]),r(v,{style:{width:"100%"}}),n("div",z,[r(d,null,{default:g(()=>[n("button",{onClick:s[0]||(s[0]=u=>t.sketch.setup({n:t.n,stepsPerSecond:t.stepsPerSecond}))}," START "),r(l),n("span",E,"N: "+p(t.n),1),r(l),r(c,{modelValue:t.n,"onUpdate:modelValue":s[1]||(s[1]=u=>t.n=u),min:"10",max:"2000",step:"10",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"]),n("span",R,"Steps per second: "+p(t.stepsPerSecond),1),r(l),r(c,{modelValue:t.stepsPerSecond,"onUpdate:modelValue":s[2]||(s[2]=u=>t.stepsPerSecond=u),min:"100",max:"30000",step:"100",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"])]),_:1})])])}const K=y(B,[["render",A]]);export{K as default};
