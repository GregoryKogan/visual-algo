var P=Object.defineProperty;var v=(s,t,i)=>t in s?P(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i;var n=(s,t,i)=>(v(s,typeof t!="symbol"?t+"":t,i),i);import{P as C,S as _,V as c,a as l,b as d}from"./VSlider-535596be.js";import{s as V}from"./shuffle-dbe9666a.js";import{s as f}from"./sleep-9eff569f.js";import{d as y,_ as w,$ as b,R as m,a0 as g,a1 as o,b as r,U as k,W as u,a3 as $}from"./index-6f0bb6af.js";import"./VGrid-287f6910.js";class N{constructor(t){n(this,"painter");n(this,"width");n(this,"height");n(this,"values");n(this,"n");n(this,"i");n(this,"stepsPer10ms");n(this,"compsCounter");n(this,"stepsCounter");n(this,"finished");n(this,"curPid");this.painter=new C(t),this.width=t.width,this.height=t.height,this.values=[],this.n=100,this.i=0,this.stepsPer10ms=1,this.compsCounter=0,this.stepsCounter=0,this.finished=!1,this.curPid=0}setup(t){t&&(this.n=t.n,this.stepsPer10ms=Math.round(t.stepsPerSecond/100)),this.finished=!1,this.i=0,this.compsCounter=0,this.stepsCounter=0,this.values=[];for(let i=1;i<=this.n;++i)this.values.push(i);V(this.values),this.curPid++,this.countingSort(this.curPid)}async countingSort(t){if(t!=this.curPid)return;const i=new Array(this.n+1);for(let e=0;e<this.n+1;++e){if(t!=this.curPid)return;i[e]=0}for(let e=0;e<this.n;++e){if(t!=this.curPid)return;this.compsCounter++,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await f(10)),this.i=e,i[this.values[e]]++}let h=0;for(let e=1;e<=this.n;++e)for(let a=0;a<i[e];++a){if(t!=this.curPid)return;this.compsCounter++,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await f(10)),this.values[h]=e,h++,this.i=h}t==this.curPid&&(this.finished=!0,this.renderValues())}renderValues(){this.painter.background("#282a36");const t=this.width/this.n,h=this.height/this.n;for(let e=0;e<this.n;++e){this.painter.setStrokeWeight(t+1),this.painter.stroke("#f8f8f2"),e==this.i&&this.painter.stroke("#ff79c6"),e==this.i&&!this.finished&&this.painter.setStrokeWeight(Math.max(t+1,7)),this.finished&&this.painter.stroke("#50fa7b");const a=h*this.values[e];this.painter.line(e*t+t/2,this.height-a,e*t+t/2,this.height)}}}const B=y({name:"CountingSort",components:{SketchCanvas:_},data:()=>({sketch:{},n:100,stepsPerSecond:100}),mounted(){const s=document.getElementById("sketch");s&&C.isCanvas(s)&&(this.sketch=new N(s),this.sketch.setup())}});const W={class:"sort-page"},H=o("h1",{style:{"margin-top":"20px"}},[o("a",{href:"https://en.wikipedia.org/wiki/Counting_sort"},"Counting Sort")],-1),T=o("h3",null,"Time complexity O(n + k)",-1),U=o("h3",null,"Space complexity O(n + k)",-1),z=o("h3",{style:{"margin-bottom":"20px"}}," k - range of the non-negative key values ",-1),A={class:"stats"},E={key:0},M={class:"controls"},O={style:{"font-size":"large"}},R={style:{"font-size":"large"}};function j(s,t,i,h,e,a){const S=b("SketchCanvas");return m(),g("div",W,[H,T,U,z,o("div",A,[r(c,null,{default:k(()=>[o("span",null,u(s.sketch.compsCounter)+" comparisons",1),r(l),s.sketch.values?(m(),g("span",E,"N: "+u(s.sketch.values.length),1)):$("",!0),r(l),o("span",null,"Steps per second: "+u(s.stepsPerSecond),1)]),_:1})]),r(S,{style:{width:"100%"}}),o("div",M,[r(c,null,{default:k(()=>[o("button",{onClick:t[0]||(t[0]=p=>s.sketch.setup({n:s.n,stepsPerSecond:s.stepsPerSecond}))}," START "),r(l),o("span",O,"N: "+u(s.n),1),r(l),r(d,{modelValue:s.n,"onUpdate:modelValue":t[1]||(t[1]=p=>s.n=p),min:"10",max:"2000",step:"10",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"]),o("span",R,"Steps per second: "+u(s.stepsPerSecond),1),r(l),r(d,{modelValue:s.stepsPerSecond,"onUpdate:modelValue":t[2]||(t[2]=p=>s.stepsPerSecond=p),min:"100",max:"5000",step:"100",color:"#50fa7b","thumb-color":"#f8f8f2"},null,8,["modelValue"])]),_:1})])])}const J=w(B,[["render",j]]);export{J as default};
