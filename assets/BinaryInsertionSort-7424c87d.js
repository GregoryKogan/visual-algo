var P=Object.defineProperty;var _=(e,t,i)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var h=(e,t,i)=>(_(e,typeof t!="symbol"?t+"":t,i),i);import{P as y,V as f,a as d}from"./painter-e02e082b.js";import{s as C}from"./shuffle-dbe9666a.js";import{s as m}from"./sleep-9eff569f.js";import{d as V,_ as b,o as g,f as v,j as n,i as a,w as k,t as c,k as j,l as w,v as S}from"./index-c9176d23.js";/* empty css              */class B{constructor(t){h(this,"painter");h(this,"width");h(this,"height");h(this,"values");h(this,"n");h(this,"i");h(this,"j");h(this,"low");h(this,"high");h(this,"loc");h(this,"stepsPer10ms");h(this,"compsCounter");h(this,"stepsCounter");h(this,"finished");h(this,"curPid");this.painter=new y(t),this.width=t.width,this.height=t.height,this.values=[],this.n=100,this.i=0,this.j=0,this.low=0,this.high=0,this.loc=0,this.stepsPer10ms=1,this.compsCounter=0,this.stepsCounter=0,this.finished=!1,this.curPid=0}setup(t){t&&(this.n=t.n,this.stepsPer10ms=Math.round(t.stepsPerSecond/100)),this.finished=!1,this.i=0,this.j=0,this.low=0,this.high=0,this.loc=0,this.compsCounter=0,this.stepsCounter=0,this.values=[];for(let i=1;i<=this.n;++i)this.values.push(i);C(this.values),this.curPid++,this.binaryInsertionSort(this.curPid)}async binaryInsertionSort(t){for(let i=0;i<this.n;++i){let r=i-1;const l=this.values[i];let s=-1,o=0,p=r;for(;o<=p;){if(t!=this.curPid)return;this.compsCounter+=2,this.i=i,this.j=r,this.low=o,this.high=p,this.loc=s,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await m(10));const u=o+Math.floor((p-o)/2);if(l==this.values[u]){s=u+1;break}else l>this.values[u]?o=u+1:p=u-1}for(s==-1&&(s=o);r>=s;){if(t!=this.curPid)return;this.compsCounter++,this.values[r+1]=this.values[r],r--,this.i=i,this.j=r,this.low=o,this.high=p,this.loc=s,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await m(10))}this.values[r+1]=l}this.finished=!0,this.renderValues()}renderValues(){this.painter.background("#282a36");const t=this.width/this.n,i=this.height;let r=this.values[0];for(let s=1;s<this.n;++s)this.values[s]>r&&(r=this.values[s]);const l=i/r;for(let s=0;s<this.n;++s){this.painter.setStrokeWeight(t+1),this.painter.stroke("#f8f8f2"),s==this.i?this.painter.stroke("#8be9fd"):s==this.j?this.painter.stroke("#ffb86c"):s==this.low?this.painter.stroke("#ff79c6"):s==this.high&&this.painter.stroke("#ff79c6"),s==this.loc&&this.painter.stroke("#ff5555"),(s==this.i||s==this.j||s==this.low||s==this.high||s==this.loc)&&!this.finished&&this.painter.setStrokeWeight(Math.max(t+1,7)),this.finished&&this.painter.stroke("#50fa7b");const o=l*this.values[s];this.painter.line(s*t+t/2,this.height-o,s*t+t/2,this.height)}}}const I=V({name:"SelectionSort",data:()=>({canvasWidth:2e3,canvasHeight:1125,sketch:{},n:100,stepsPerSecond:100}),mounted(){const e=document.getElementById("sketch");e&&y.isCanvas(e)&&(this.sketch=new B(e),this.sketch.setup())}});const N={class:"sort-page"},W=n("h1",{style:{"margin-top":"20px"}},[n("a",{href:"https://en.wikipedia.org/wiki/Insertion_sort"},"Binary Insertion Sort")],-1),$=n("h3",null,"Time complexity O(nÂ²)",-1),x=n("h3",{style:{"margin-bottom":"20px"}},"Space complexity O(1)",-1),H={class:"stats"},M={key:0},T=["width","height"],z={class:"controls"},D={style:{"font-size":"large"}},E=n("div",{style:{height:"20px"}},null,-1),O={style:{"font-size":"large"}};function U(e,t,i,r,l,s){return g(),v("div",N,[W,$,x,n("div",H,[a(f,null,{default:k(()=>[n("span",null,c(e.sketch.compsCounter)+" comparisons",1),a(d),e.sketch.values?(g(),v("span",M,"N: "+c(e.sketch.values.length),1)):j("",!0),a(d),n("span",null,"Steps per second: "+c(e.stepsPerSecond),1)]),_:1})]),n("canvas",{id:"sketch",width:e.canvasWidth,height:e.canvasHeight},null,8,T),n("div",z,[a(f,null,{default:k(()=>[n("button",{onClick:t[0]||(t[0]=o=>e.sketch.setup({n:e.n,stepsPerSecond:e.stepsPerSecond}))}," START "),a(d),n("span",D,"N: "+c(e.n),1),a(d),w(n("input",{style:{width:"min(100%, 800px)"},"onUpdate:modelValue":t[1]||(t[1]=o=>e.n=o),type:"range",min:"10",max:"2000",step:"10"},null,512),[[S,e.n]]),E,n("span",O,"Steps per second: "+c(e.stepsPerSecond),1),a(d),w(n("input",{style:{width:"min(100%, 800px)"},"onUpdate:modelValue":t[2]||(t[2]=o=>e.stepsPerSecond=o),type:"range",min:"100",max:"1000000",step:"100"},null,512),[[S,e.stepsPerSecond]])]),_:1})])])}const K=b(I,[["render",U]]);export{K as default};
