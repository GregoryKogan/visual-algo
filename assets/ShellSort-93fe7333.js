var _=Object.defineProperty;var P=(s,t,e)=>t in s?_(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var n=(s,t,e)=>(P(s,typeof t!="symbol"?t+"":t,e),e);import{P as k,V as u,a as l}from"./painter-e02e082b.js";import{s as C}from"./shuffle-dbe9666a.js";import{s as c}from"./sleep-9eff569f.js";import{d as w,_ as y,o as f,f as m,j as i,i as a,w as g,t as p,k as V,l as S,v}from"./index-c9176d23.js";/* empty css              */class j{constructor(t){n(this,"painter");n(this,"width");n(this,"height");n(this,"values");n(this,"n");n(this,"i");n(this,"j");n(this,"stepsPer10ms");n(this,"compsCounter");n(this,"stepsCounter");n(this,"finished");n(this,"curPid");this.painter=new k(t),this.width=t.width,this.height=t.height,this.values=[],this.n=100,this.i=0,this.j=0,this.stepsPer10ms=1,this.compsCounter=0,this.stepsCounter=0,this.finished=!1,this.curPid=0}setup(t){t&&(this.n=t.n,this.stepsPer10ms=Math.round(t.stepsPerSecond/100)),this.i=0,this.j=0,this.finished=!1,this.compsCounter=0,this.stepsCounter=0,this.values=[];for(let e=1;e<=this.n;++e)this.values.push(e);C(this.values),this.curPid++,this.shellSort(this.curPid)}async shellSort(t){if(t==this.curPid){for(let e=Math.floor(this.n/2);e>0;e=Math.floor(e/2))for(let r=e;r<this.n;r+=1){if(t!=this.curPid)return;this.compsCounter++,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await c(10)),this.i=r;const h=this.values[r];let o;for(o=r;o>=e&&this.values[o-e]>h;o-=e){if(this.values[o]=this.values[o-e],this.j=o,t!=this.curPid)return;this.compsCounter++,this.stepsCounter++,this.stepsCounter%this.stepsPer10ms==0&&(this.renderValues(),await c(10))}this.values[o]=h}this.finished=!0,this.renderValues()}}renderValues(){this.painter.background("#282a36");const t=this.width/this.n,r=this.height/this.n;for(let h=0;h<this.n;++h){this.painter.setStrokeWeight(t+1),this.painter.stroke("#f8f8f2"),h==this.i?this.painter.stroke("#8be9fd"):h==this.j&&this.painter.stroke("#ffb86c"),(h==this.i||h==this.j)&&!this.finished&&this.painter.setStrokeWeight(Math.max(t+1,7)),this.finished&&this.painter.stroke("#50fa7b");const o=r*this.values[h];this.painter.line(h*t+t/2,this.height-o,h*t+t/2,this.height)}}}const b=w({name:"ShellSort",data:()=>({canvasWidth:2e3,canvasHeight:1125,sketch:{},n:100,stepsPerSecond:100}),mounted(){const s=document.getElementById("sketch");s&&k.isCanvas(s)&&(this.sketch=new j(s),this.sketch.setup())}});const B={class:"sort-page"},H=i("h1",{style:{"margin-top":"20px"}},[i("a",{href:"https://en.wikipedia.org/wiki/Shellsort"},"Shell Sort")],-1),M=i("h3",null,"Time complexity",-1),N=i("h3",null,"O(nÂ²) - worst case",-1),W=i("h3",null,"O(n log n) - average",-1),$=i("h3",{style:{"margin-bottom":"20px"}},"Space complexity O(1)",-1),x={class:"stats"},T={key:0},O=["width","height"],z={class:"controls"},D={style:{"font-size":"large"}},E=i("div",{style:{height:"20px"}},null,-1),U={style:{"font-size":"large"}};function A(s,t,e,r,h,o){return f(),m("div",B,[H,M,N,W,$,i("div",x,[a(u,null,{default:g(()=>[i("span",null,p(s.sketch.compsCounter)+" comparisons",1),a(l),s.sketch.values?(f(),m("span",T,"N: "+p(s.sketch.values.length),1)):V("",!0),a(l),i("span",null,"Steps per second: "+p(s.stepsPerSecond),1)]),_:1})]),i("canvas",{id:"sketch",width:s.canvasWidth,height:s.canvasHeight},null,8,O),i("div",z,[a(u,null,{default:g(()=>[i("button",{onClick:t[0]||(t[0]=d=>s.sketch.setup({n:s.n,stepsPerSecond:s.stepsPerSecond}))}," START "),a(l),i("span",D,"N: "+p(s.n),1),a(l),S(i("input",{style:{width:"min(100%, 800px)"},"onUpdate:modelValue":t[1]||(t[1]=d=>s.n=d),type:"range",min:"10",max:"2000",step:"10"},null,512),[[v,s.n]]),E,i("span",U,"Steps per second: "+p(s.stepsPerSecond),1),a(l),S(i("input",{style:{width:"min(100%, 800px)"},"onUpdate:modelValue":t[2]||(t[2]=d=>s.stepsPerSecond=d),type:"range",min:"100",max:"30000",step:"100"},null,512),[[v,s.stepsPerSecond]])]),_:1})])])}const K=y(b,[["render",A]]);export{K as default};
